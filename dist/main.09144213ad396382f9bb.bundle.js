(()=>{var e={171:(e,t,a)=>{const r=a(417);e.exports=function(){let e=!1;const t=[],a=[],o=document.querySelector("#player-battlefield"),s=document.querySelector("#computer-battlefield"),i=r().initNewGame(),n=i.Computer;n.gameboard.placeShip(3,[25,26,27]),n.gameboard.placeShip(5,[95,96,97,98,99]);const d=i.Human;d.gameboard.placeShip(2,[55,65]),d.gameboard.placeShip(3,[1,2,3]),d.gameboard.placeShip(3,[22,23,24]),d.gameboard.placeShip(5,[50,60,70,80,90]),n.gameboard.placeShip(4,[12,22,32,42]),d.gameboard.placeShip(4,[19,29,39,49]),n.gameboard.placeShip(3,[67,68,69]),n.gameboard.placeShip(2,[60,70]);const c=n.gameboard.getBattlefield(),l=d.gameboard.getBattlefield();return{playerComputer:n,playerHuman:d,renderBoards(){o.style.setProperty("--grid-rows",10),o.style.setProperty("--grid-cols",10),s.style.setProperty("--grid-rows",10),s.style.setProperty("--grid-cols",10);for(let e=0;e<c.length;e++){const t=document.createElement("div");t.dataset.id=e,c[e].isFree||(t.dataset.isFree="occupied"),c[e].isHit&&(t.dataset.isHit="hit"),c[e].shipId&&(t.dataset.shipId="ship"),s.appendChild(t).className="grid-item",t.addEventListener("click",(()=>{(d.gameboard.isGameOver()||n.gameboard.isGameOver())&&(console.log("GAME OVER"),d.turn=!1),d.turn&&(n.gameboard.receiveAttack(t.dataset.id),t.dataset.isHit="hit",console.log("hits:",n.gameboard.getHitCounter()),console.log("missed shots:",n.gameboard.getMissedShotCounter()),d.turn=!1,n.turn=!0),n.turn&&(this.attack(),this.updateHumanBoard(),n.turn=!1,d.turn=!0)}))}for(let e=0;e<l.length;e++){const t=document.createElement("div");t.dataset.id=`p${e}`,l[e].isFree||(t.dataset.isFree="occupied"),l[e].isHit&&(t.dataset.isHit="hit"),l[e].shipId&&(t.dataset.shipId="ship"),o.appendChild(t).className="grid-item"}},randomCoord:()=>Math.floor(100*Math.random()),randomAttack(){console.log("random attack!!!");let r=this.randomCoord();a.includes(r)?(r=this.randomCoord(),this.randomAttack()):(a.push(r),console.log(a),d.gameboard.receiveAttack(r)?(e=!0,!a.includes(r+1)&&r+1<100&&t.push(r+1),!a.includes(r-1)&&r-1>=0&&t.push(r-1),!a.includes(r+10)&&r+10<100&&t.push(r+10),!a.includes(r-10)&&r-10>=0&&t.push(r-10),console.log(e,t)):e=!1,console.log("randomCell",r),console.log("computer hits:",d.gameboard.getHitCounter()),console.log("computer missed shots:",d.gameboard.getMissedShotCounter()))},targetAttack(){console.log("target attack!!!");const r=t.shift();a.push(r),console.log("coord:",r),d.gameboard.receiveAttack(r)?(e=!0,!a.includes(r+1)&&r+1<100&&t.push(r+1),!a.includes(r-1)&&r-1>=0&&t.push(r-1),!a.includes(r+10)&&r+10<100&&t.push(r+10),!a.includes(r-10)&&r-10>=0&&t.push(r-10),console.log(e,t)):e=!1,console.log("computer hits:",d.gameboard.getHitCounter()),console.log("computer missed shots:",d.gameboard.getMissedShotCounter())},attack(){e||0!==t.length?this.targetAttack():this.randomAttack(),console.log(e,t)},updateHumanBoard(){for(let e=0;e<l.length;e++){const t=document.querySelector(`[data-id="p${e}"]`);l[e].isFree||(t.dataset.isFree="occupied"),l[e].isHit&&(t.dataset.isHit="hit"),l[e].shipId&&(t.dataset.shipId="ship")}}}}},417:(e,t,a)=>{const r=a(507);function o(){const e=r();return{initNewGame(){const t=e.createPlayer("Computer"),a=e.createPlayer("Human");return{computerBattlefield:t.gameboard.getBattlefield(),humanBattlefield:a.gameboard.getBattlefield(),Computer:t,Human:a}}}}const s=o().initNewGame();s.Computer.gameboard.placeShip(3,[25,26,27]);const i=s.Human;i.gameboard.placeShip(3,[1,2,3]),i.gameboard.placeShip(3,[10,11,12]),e.exports=o},498:(e,t,a)=>{const r=a(643);e.exports=function(){let e=0,t=0;const a=[],o=[];return{createCell:e=>({id:e,isFree:!0,isHit:!1,shipId:null}),createGameboard(){for(let e=0;e<100;e++)o.push(this.createCell(e));return o},placeShip(e,t){const s=r(e,t);a.push(s);return t.forEach((e=>{o[e].isFree=!1,o[e].shipId=s.id})),o},getBattlefield:()=>o,getFleet:()=>a,getHitCounter:()=>e,getMissedShotCounter:()=>t,receiveAttack(r){const s=r;if(!1===o[s].isHit&&!1===o[s].isFree){return a.find((e=>e.id===o[s].shipId)).hit(s),o[s].isHit=!0,e++,!0}return o[s].isHit=!0,t++,!1},isGameOver(){let e=0;for(let t=0;t<a.length;t++)!0===a[t].isSunk()&&e++;return e===a.length}}}},507:(e,t,a)=>{const r=a(498);e.exports=function(){return{createPlayer(e){const t=r();return t.createGameboard(),{playerName:e,gameboard:t,turn:!1}},changeTurn:e=>e.turn?(e.turn=!1,e.turn):(e.turn=!0,e.turn),attack:(e,t)=>e.gameboard.receiveAttack(t),randomCoord:()=>Math.floor(100*Math.random())}}},643:e=>{e.exports=function(e,t){let a=0;return{id:Date.now()+Math.floor(100*Math.random()),length:e,coords:t,hit(e){const r=Number(e);return!!t.includes(r)&&(a++,!0)},isSunk:()=>a===e}}}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}(()=>{"use strict";const e=a(171)();e.renderBoards(),e.playerHuman.turn=!0})()})();