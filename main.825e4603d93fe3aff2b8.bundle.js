(()=>{var e={171:(e,t,r)=>{const a=r(417);e.exports=function(){const e=[],t=document.querySelector("#player-battlefield"),r=document.querySelector("#computer-battlefield"),o=a().initNewGame(),i=o.Computer;i.gameboard.placeShip(3,[25,26,27]),i.gameboard.placeShip(5,[95,96,97,98,99]);const s=o.Human;s.gameboard.placeShip(2,[55,65]),s.gameboard.placeShip(3,[1,2,3]),s.gameboard.placeShip(3,[22,23,24]),s.gameboard.placeShip(5,[50,60,70,80,90]),i.gameboard.placeShip(4,[12,22,32,42]),s.gameboard.placeShip(4,[19,29,39,49]),i.gameboard.placeShip(3,[67,68,69]),i.gameboard.placeShip(2,[60,70]);const d=i.gameboard.getBattlefield(),n=s.gameboard.getBattlefield();return{playerComputer:i,playerHuman:s,renderBoards(){t.style.setProperty("--grid-rows",10),t.style.setProperty("--grid-cols",10),r.style.setProperty("--grid-rows",10),r.style.setProperty("--grid-cols",10);for(let e=0;e<d.length;e++){const t=document.createElement("div");t.dataset.id=e,d[e].isFree||(t.dataset.isFree="occupied"),d[e].isHit&&(t.dataset.isHit="hit"),d[e].shipId&&(t.dataset.shipId="ship"),r.appendChild(t).className="grid-item",t.addEventListener("click",(()=>{(s.gameboard.isGameOver()||i.gameboard.isGameOver())&&(console.log("GAME OVER"),s.turn=!1),s.turn&&(i.gameboard.receiveAttack(t.dataset.id),t.dataset.isHit="hit",console.log("hits:",i.gameboard.getHitCounter()),console.log("missed shots:",i.gameboard.getMissedShotCounter()),s.turn=!1,i.turn=!0),i.turn&&(this.randomAttack(),this.updateHumanBoard(),i.turn=!1,s.turn=!0)}))}for(let e=0;e<n.length;e++){const r=document.createElement("div");r.dataset.id=`p${e}`,n[e].isFree||(r.dataset.isFree="occupied"),n[e].isHit&&(r.dataset.isHit="hit"),n[e].shipId&&(r.dataset.shipId="ship"),t.appendChild(r).className="grid-item"}},randomCoord:()=>Math.floor(100*Math.random()),randomAttack(){let t=this.randomCoord();e.includes(t)?(t=this.randomCoord(),this.randomAttack()):(e.push(t),console.log(e),s.gameboard.receiveAttack(t),console.log("player hits:",s.gameboard.getHitCounter()),console.log("player missed shots:",s.gameboard.getMissedShotCounter()))},updateHumanBoard(){for(let e=0;e<n.length;e++){const t=document.querySelector(`[data-id="p${e}"]`);n[e].isFree||(t.dataset.isFree="occupied"),n[e].isHit&&(t.dataset.isHit="hit"),n[e].shipId&&(t.dataset.shipId="ship")}}}}},417:(e,t,r)=>{const a=r(507);function o(){const e=a();return{initNewGame(){const t=e.createPlayer("Computer"),r=e.createPlayer("Human");return{computerBattlefield:t.gameboard.getBattlefield(),humanBattlefield:r.gameboard.getBattlefield(),Computer:t,Human:r}}}}const i=o().initNewGame();i.Computer.gameboard.placeShip(3,[25,26,27]);const s=i.Human;s.gameboard.placeShip(3,[1,2,3]),s.gameboard.placeShip(3,[10,11,12]),e.exports=o},498:(e,t,r)=>{const a=r(643);e.exports=function(){let e=0,t=0;const r=[],o=[];return{createCell:e=>({id:e,isFree:!0,isHit:!1,shipId:null}),createGameboard(){for(let e=0;e<100;e++)o.push(this.createCell(e));return o},placeShip(e,t){const i=a(e,t);r.push(i);return t.forEach((e=>{o[e].isFree=!1,o[e].shipId=i.id})),o},getBattlefield:()=>o,getFleet:()=>r,getHitCounter:()=>e,getMissedShotCounter:()=>t,receiveAttack(a){const i=a;if(!1===o[i].isHit&&!1===o[i].isFree){return r.find((e=>e.id===o[i].shipId)).hit(i),o[i].isHit=!0,e++,!0}return o[i].isHit=!0,t++,!1},isGameOver(){let e=0;for(let t=0;t<r.length;t++)!0===r[t].isSunk()&&e++;return e===r.length}}}},507:(e,t,r)=>{const a=r(498);e.exports=function(){return{createPlayer(e){const t=a();return t.createGameboard(),{playerName:e,gameboard:t,turn:!1}},changeTurn:e=>e.turn?(e.turn=!1,e.turn):(e.turn=!0,e.turn),attack:(e,t)=>e.gameboard.receiveAttack(t),randomCoord:()=>Math.floor(100*Math.random())}}},643:e=>{e.exports=function(e,t){let r=0;return{id:Date.now()+Math.floor(100*Math.random()),length:e,coords:t,hit(e){const a=Number(e);return!!t.includes(a)&&(r++,!0)},isSunk:()=>r===e}}}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}(()=>{"use strict";const e=r(171)();e.renderBoards(),e.playerHuman.turn=!0})()})();