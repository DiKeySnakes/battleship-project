(()=>{var t={104:t=>{var e="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function r(){var t=Date.now(),e=r.last||t;return r.last=t>e?t:e+1}t.exports=t.exports.default=function(t,s){return(t||"")+""+e+r().toString(36)+(s||"")},t.exports.process=function(t,s){return(t||"")+e+r().toString(36)+(s||"")},t.exports.time=function(t,e){return(t||"")+r().toString(36)+(e||"")}},778:t=>{t.exports=function(){const t=[],e=[];return{randomFleet:t,randomCoord:()=>Math.floor(100*Math.random()),isCrossing(t,e){let r=0;return e.forEach((e=>{t.includes(e)&&r++})),0!==r},createCarrier(){const t=this.createRandomShipCoords(5),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createCarrier():[r,s]},createBattleship(){const t=this.createRandomShipCoords(4),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createBattleship():[r,s]},createCruiser(){const t=this.createRandomShipCoords(3),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createCruiser():[r,s]},createSubmarine(){const t=this.createRandomShipCoords(3),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createSubmarine():[r,s]},createDestroyer(){const t=this.createRandomShipCoords(2),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createDestroyer():[r,s]},createPatrolBoat1(){const t=this.createRandomShipCoords(2),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createPatrolBoat1():[r,s]},createPatrolBoat2(){const t=this.createRandomShipCoords(2),r=t[0],s=t[1];return this.isCrossing(e,r)?this.createPatrolBoat2():[r,s]},createRandomFleet(){const r=this.createCarrier();t.push([5,r[0],r[1]]),r[0].forEach((t=>{e.push(t)}));const s=this.createBattleship();t.push([4,s[0],s[1]]),s[0].forEach((t=>{e.push(t)}));const i=this.createCruiser();t.push([3,i[0],i[1]]),i[0].forEach((t=>{e.push(t)}));const a=this.createSubmarine();t.push([3,a[0],a[1]]),a[0].forEach((t=>{e.push(t)}));const o=this.createDestroyer();t.push([2,o[0],o[1]]),o[0].forEach((t=>{e.push(t)}));const n=this.createPatrolBoat1();t.push([2,n[0],n[1]]),n[0].forEach((t=>{e.push(t)}));const d=this.createPatrolBoat2();t.push([2,d[0],d[1]]),d[0].forEach((t=>{e.push(t)}))},createRandomShipCoords(t){const e=[],r=Math.round(Math.random()),s=this.randomCoord();if(this.isFit(r,s,t)){if(0===r)for(let r=0;r<t;r++)e.push(s+r);else for(let r=0;r<t;r++)e.push(s+10*r);return[e,r]}return this.createRandomShipCoords(t)},createShipCoords(t,e,r){const s=[];if(0===t)for(let t=0;t<r;t++)s.push(e+t);else for(let t=0;t<r;t++)s.push(e+10*t);return s},createValidStartingPoint(t){const e=Math.round(Math.random()),r=this.randomCoord();return this.isFit(e,r,t)?{axis:e,startingPoint:r,length:t}:this.createValidStartingPoint(t)},isFit(t,e,r){const s=10*Math.ceil((e+1)/10);return 1===t?e+10*(r-1)<100:e+(r-1)<s}}}},171:(t,e,r)=>{const s=r(417),i=r(778),a=r(693),o=r(354);t.exports=function(){const t=i();let e=!1,r=[];const n=[],d=[],c=document.querySelector("#player-battlefield"),l=document.querySelector("#computer-battlefield"),h=s().initNewGame(),u=h.Computer;let p=[37,26,73,62,66,33,55,59,40,95,4,44,80,91,8,19,99,0].sort((function(){return Math.random()-.5}));!function(){t.createRandomFleet();const e=t.randomFleet;for(let t=0;t<e.length;t++)u.gameboard.placeShip(e[t][0],e[t][1],e[t][2])}();const m=document.getElementById("mute"),g=document.getElementById("mute-icon"),f=document.getElementById("startGameModal"),C=document.getElementById("endGameModal"),S=document.querySelector("[data-reload-button]"),y=document.getElementById("ship"),v=document.getElementById("length"),b=document.getElementById("direction"),E=document.getElementById("winner"),k=document.getElementById("playerHits"),B=document.getElementById("computerHits"),D=document.getElementById("playerMissedShots"),F=document.getElementById("computerMissedShots"),H=document.getElementById("overlay"),x=document.getElementById("player-place-ships"),I=document.querySelector("[data-rotate-button]");let P=0;const w=[["Carrier",5],["Battleship",4],["Cruiser",3],["Submarine",3],["Destroyer",2],["Patrol boat #1",2],["Patrol boat #2",2]];function A(t){null!=t&&(t.classList.add("active"),H.classList.add("active"))}I.addEventListener("click",(()=>{0===P?(P=1,b.textContent="Direction: Vertical"):(P=0,b.textContent="Direction: Horizontal")})),S.addEventListener("click",(()=>{window.location.reload()}));const $=new Audio(o,a);$.loop=!0,m.addEventListener("click",(()=>{"true"===m.dataset.paused?($.play(),m.dataset.paused="false",g.classList.remove("fa-volume-xmark"),g.classList.add("fa-volume-high")):($.pause(),m.dataset.paused="true",g.classList.remove("fa-volume-high"),g.classList.add("fa-volume-xmark"))}));const M=h.Human,G=u.gameboard.getBattlefield(),L=M.gameboard.getBattlefield();return{playerComputer:u,playerHuman:M,createGrid(){const e=[],r=[];w.forEach((t=>{e.push(t[0])})),w.forEach((t=>{r.push(t[1])}));let s=r.shift(),i=e.shift(),a="Horizontal";a=1===P?"Vertical":"Horizontal",y.textContent=`Place your ${i}`,v.textContent=1===s?`Ship length: ${s} cell`:`Ship length: ${s} cells`,b.textContent=`Direction: ${a}`;const o=M.gameboard.getFleet();x.style.setProperty("--grid-rows",10),x.style.setProperty("--grid-cols",10);for(let n=0;n<G.length;n++){const c=document.createElement("div");c.dataset.id=`psc${n}`,L[n].isFree||(c.dataset.isFree="occupied"),L[n].isHit&&(c.dataset.isHit="hit"),L[n].shipId&&(c.dataset.shipId="ship"),L[n].shipDirection?c.dataset.shipDirection="vertical":c.dataset.shipDirection="horizontal",L[n].shipStart===n&&(c.dataset.shipStart="true"),L[n].shipEnd===n&&(c.dataset.shipEnd="true"),x.appendChild(c).className="grid-item",c.addEventListener("mouseover",(()=>{const t=n;this.checkCoordIsValid(t,s)?c.dataset.valid=!0:c.dataset.valid=!1})),c.addEventListener("click",(()=>{const c=n,l=this.createCoords(c,s)[0],h=this.createCoords(c,s)[1];var u;void 0===l||t.isCrossing(d,l)||(M.gameboard.placeShip(s,l,h),l.forEach((t=>{d.push(t)})),this.updatePlaceShipContainer(),this.updateHumanBoard(),i=e.shift(),s=r.shift()),a=1===h?"Vertical":"Horizontal",y.textContent=`Place your ${i}`,v.textContent=1===s?`Ship length: ${s} cell`:`Ship length: ${s} cells`,b.textContent=`Direction: ${a}`,7===o.length&&(null!=(u=f)&&(u.classList.remove("active"),H.classList.remove("active")),this.playAudio())}))}},checkCoordIsValid:(e,r)=>!!t.isFit(P,e,r),createCoords(e,r){let s;return this.checkCoordIsValid(e,r)&&(s=t.createShipCoords(P,e,r)),[s,P]},updatePlaceShipContainer(){for(let t=0;t<L.length;t++){const e=document.querySelector(`[data-id="psc${t}"]`);L[t].isFree||(e.dataset.isFree="occupied"),L[t].isHit&&(e.dataset.isHit="hit"),L[t].shipId&&(e.dataset.shipId="ship"),L[t].shipDirection?e.dataset.shipDirection="vertical":e.dataset.shipDirection="horizontal",L[t].shipStart===t&&(e.dataset.shipStart="true"),L[t].shipEnd===t&&(e.dataset.shipEnd="true")}},announceShipCreation(){A(f)},playAudio(){$.play(),$.volume=.2},renderBoards(){c.style.setProperty("--grid-rows",10),c.style.setProperty("--grid-cols",10),l.style.setProperty("--grid-rows",10),l.style.setProperty("--grid-cols",10);for(let t=0;t<G.length;t++){const e=document.createElement("div");e.dataset.id=t,G[t].isFree||(e.dataset.isFree="occupied"),G[t].isHit&&(e.dataset.isHit="hit"),G[t].shipId&&(e.dataset.shipId="ship"),G[t].shipDirection?e.dataset.shipDirection="vertical":e.dataset.shipDirection="horizontal",G[t].shipStart===t&&(e.dataset.shipStart="true"),G[t].shipEnd===t&&(e.dataset.shipEnd="true"),l.appendChild(e).className="grid-item",e.addEventListener("click",(()=>{if((M.gameboard.isGameOver()||u.gameboard.isGameOver())&&(M.turn=!1,this.endGame()),M.turn&&!e.dataset.isHit){u.gameboard.receiveAttack(t),e.dataset.isHit="hit";u.gameboard.getSunkFleet().includes(t)&&(e.dataset.sunk="true"),this.updateHumanBoard(),this.updateComputerBoard(),M.turn=!1,u.turn=!0,(M.gameboard.isGameOver()||u.gameboard.isGameOver())&&(M.turn=!1,this.endGame())}u.turn&&(this.attack(),this.updateHumanBoard(),this.updateComputerBoard(),u.turn=!1,M.turn=!0)}))}for(let t=0;t<L.length;t++){const e=document.createElement("div");e.dataset.id=`p${t}`,L[t].isFree||(e.dataset.isFree="occupied"),L[t].isHit&&(e.dataset.isHit="hit"),L[t].shipId&&(e.dataset.shipId="ship"),L[t].shipDirection?e.dataset.shipDirection="vertical":e.dataset.shipDirection="horizontal",L[t].shipStart===t&&(e.dataset.shipStart="true"),L[t].shipEnd===t&&(e.dataset.shipEnd="true"),c.appendChild(e).className="grid-item"}},endGame(){A(C);const t=M.gameboard.getHitCounter(),e=M.gameboard.getMissedShotCounter(),r=u.gameboard.getHitCounter(),s=u.gameboard.getMissedShotCounter();M.gameboard.isGameOver()?E.textContent="Computer wins":E.textContent="Player wins",k.textContent=`Computer hits: ${t}`,D.textContent=`Computer missed shots: ${e}`,B.textContent=`Player hits: ${r}`,F.textContent=`Player missed shots: ${s}`},randomCoord:()=>Math.floor(100*Math.random()),randomAttack(){console.log("Random attack!!!");let t=this.randomCoord();if(n.includes(t))t=this.randomCoord(),this.randomAttack();else if(n.push(t),M.gameboard.receiveAttack(t)){e=!0;const s=M.gameboard.getBattlefield()[t],i=M.gameboard.getSunkFleet();console.log("shipDirection:",s.shipDirection),console.log("sunkFleet:",i),i.includes(t)?r=[]:0===s.shipDirection?(!n.includes(t+1)&&t+1<100&&r.push(t+1),!n.includes(t-1)&&t-1>=0&&r.push(t-1)):(!n.includes(t+10)&&t+10<100&&r.push(t+10),!n.includes(t-10)&&t-10>=0&&r.push(t-10))}else e=!1;console.log("targetQueue random:",r)},targetAttack(){console.log("Target attack!!!"),console.log(r);const t=r.shift();if(console.log("target attack coord:",t),void 0===t&&this.randomAttack(),n.push(t),M.gameboard.receiveAttack(t)){e=!0;const s=M.gameboard.getBattlefield()[t],i=M.gameboard.getSunkFleet();console.log("shipDirection:",s.shipDirection),console.log("sunkFleet:",i),i.includes(t)?r=[]:0===s.shipDirection?(!n.includes(t+1)&&t+1<100&&r.push(t+1),!n.includes(t-1)&&t-1>=0&&r.push(t-1)):(!n.includes(t+10)&&t+10<100&&r.push(t+10),!n.includes(t-10)&&t-10>=0&&r.push(t-10))}else e=!1;console.log("targetQueue target:",r)},openingAttack(){console.log("Opening attack!!!"),console.log(p);const t=p.shift();if(console.log("opening attack coord:",t),void 0===t&&this.randomAttack(),n.includes(t))this.openingAttack();else if(n.push(t),M.gameboard.receiveAttack(t)){e=!0;const s=M.gameboard.getBattlefield()[t],i=M.gameboard.getSunkFleet();console.log("shipDirection:",s.shipDirection),console.log("sunkFleet:",i),i.includes(t)?r=[]:0===s.shipDirection?(!n.includes(t+1)&&t+1<100&&r.push(t+1),!n.includes(t-1)&&t-1>=0&&r.push(t-1)):(!n.includes(t+10)&&t+10<100&&r.push(t+10),!n.includes(t-10)&&t-10>=0&&r.push(t-10))}else e=!1;console.log("targetQueue target:",r)},attack(){e&&0!==r.length||0!==r.length?this.targetAttack():0!==p.length?this.openingAttack():this.randomAttack()},updateHumanBoard(){for(let t=0;t<L.length;t++){const e=document.querySelector(`[data-id="p${t}"]`),r=M.gameboard.getSunkFleet();L[t].isFree||(e.dataset.isFree="occupied"),L[t].isHit&&(e.dataset.isHit="hit"),L[t].shipId&&(e.dataset.shipId="ship"),r.includes(t)&&(e.dataset.sunk="true"),L[t].shipDirection?e.dataset.shipDirection="vertical":e.dataset.shipDirection="horizontal",L[t].shipStart===t&&(e.dataset.shipStart="true"),L[t].shipEnd===t&&(e.dataset.shipEnd="true")}},updateComputerBoard(){for(let t=0;t<G.length;t++){const e=document.querySelector(`[data-id="${t}"]`),r=u.gameboard.getSunkFleet();G[t].isFree||(e.dataset.isFree="occupied"),G[t].isHit&&(e.dataset.isHit="hit"),G[t].shipId&&(e.dataset.shipId="ship"),r.includes(t)&&(e.dataset.sunk="true"),G[t].shipDirection?e.dataset.shipDirection="vertical":e.dataset.shipDirection="horizontal",G[t].shipStart===t&&(e.dataset.shipStart="true"),G[t].shipEnd===t&&(e.dataset.shipEnd="true")}}}}},417:(t,e,r)=>{const s=r(507);t.exports=function(){const t=s();return{initNewGame(){const e=t.createPlayer("Computer"),r=t.createPlayer("Human");return{computerBattlefield:e.gameboard.getBattlefield(),humanBattlefield:r.gameboard.getBattlefield(),Computer:e,Human:r}}}}},498:(t,e,r)=>{const s=r(643);t.exports=function(){let t=0,e=0;const r=[],i=[];return{createCell:t=>({id:t,isFree:!0,isHit:!1,shipId:null,shipDirection:null,shipStart:null,shipEnd:null}),createGameboard(){for(let t=0;t<100;t++)i.push(this.createCell(t));return i},placeShip(t,e,a){const o=s(t,e,a);r.push(o);return e.forEach((t=>{i[t].isFree=!1,i[t].shipId=o.id,i[t].shipDirection=o.direction,i[t].shipStart=o.start,i[t].shipEnd=o.end})),i},getBattlefield:()=>i,getFleet:()=>r,getHitCounter:()=>t,getMissedShotCounter:()=>e,receiveAttack(s){const a=s;if(!1===i[a].isHit&&!1===i[a].isFree){return r.find((t=>t.id===i[a].shipId)).hit(a),i[a].isHit=!0,t++,!0}return i[a].isHit=!0,e++,!1},isGameOver(){let t=0;for(let e=0;e<r.length;e++)!0===r[e].isSunk()&&t++;return t===r.length},getSunkFleet(){const t=[];for(let e=0;e<r.length;e++)!0===r[e].isSunk()&&r[e].coords.forEach((e=>{t.push(e)}));return t}}}},507:(t,e,r)=>{const s=r(498);t.exports=function(){return{createPlayer(t){const e=s();return e.createGameboard(),{playerName:t,gameboard:e,turn:!1}},changeTurn:t=>t.turn?(t.turn=!1,t.turn):(t.turn=!0,t.turn),attack:(t,e)=>t.gameboard.receiveAttack(e),randomCoord:()=>Math.floor(100*Math.random())}}},643:(t,e,r)=>{const s=r(104);t.exports=function(t,e,r){let i=0;return{id:s.time(),length:t,coords:e,direction:r,start:e[0],end:e[e.length-1],hit(t){const r=Number(t);return!!e.includes(r)&&(i++,!0)},isSunk:()=>i===t}}},354:(t,e,r)=>{"use strict";t.exports=r.p+"sounds/audio96e41478a6dcfad42b13.mp3"},693:(t,e,r)=>{"use strict";t.exports=r.p+"sounds/audiob7c787f64ffc370f21af.ogg"}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,r),a.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{"use strict";const t=r(171)();t.createGrid(),t.announceShipCreation(),t.renderBoards(),t.playerHuman.turn=!0})()})();